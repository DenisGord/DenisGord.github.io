{"ast":null,"code":"var _jsxFileName = \"/home/denis/vud/src/components/DNDCard/DNDCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DNDCard = _ref => {\n  _s();\n  let {\n    id,\n    letter,\n    x\n  } = _ref;\n  const [coordinates, setCoordinates] = useState({\n    x: 0,\n    y: 0\n  });\n  const [blockCoordinate, setBlockCoordinate] = useState([]);\n  if (window.onload) {\n    window.addEventListener('load', () => {\n      setBlockCoordinate(document.querySelectorAll('.drop-zone').map(item => {\n        const rect = item.getBoundingClientRect();\n        const {\n          left,\n          right,\n          bottom,\n          top\n        } = rect;\n        return {\n          left,\n          right,\n          top,\n          bottom\n        };\n      }));\n    });\n  }\n  console.log(blockCoordinate);\n  useEffect(() => {\n    setCoordinates({\n      x,\n      y: 0\n    });\n  }, [x]);\n  const styleTag = {\n    position: 'absolute',\n    top: coordinates.y,\n    left: coordinates.x\n  };\n  const onMouseDown = e => {\n    e.preventDefault();\n    // setSaveTrigger(false);\n    let shiftX = e.clientX - coordinates.x;\n    let shiftY = e.clientY - coordinates.y;\n    const moveAt = (pageX, pageY) => {\n      let x = pageX - shiftX;\n      let y = pageY - shiftY;\n      if (x < 0) {\n        x = 0;\n      }\n      //   if (x > block.offsetWidth) {\n      //     x = block.offsetWidth;\n      //   }\n      //   if (y > block.offsetHeight - 3) {\n      //     y = block.offsetHeight - 3;\n      //   }\n      if (y < 0) {\n        y = 0;\n      }\n      setCoordinates({\n        x: x,\n        y: y\n      });\n    };\n    moveAt(e.clientX, e.clientY);\n    const onMouseMove = event => {\n      moveAt(event.clientX, event.clientY);\n    };\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', () => {\n      window.removeEventListener('mousemove', onMouseMove);\n      //   setSaveTrigger(true);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    onMouseDown: onMouseDown\n    // onDragStart={ondragstart}\n    ,\n    className: \"drop-card\",\n    style: styleTag\n    // ref={ball}\n    ,\n    children: letter\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(DNDCard, \"IVzHDHs21z+RRDWj8zRrOCQWe8s=\");\n_c = DNDCard;\nvar _c;\n$RefreshReg$(_c, \"DNDCard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","DNDCard","id","letter","x","coordinates","setCoordinates","y","blockCoordinate","setBlockCoordinate","window","onload","addEventListener","document","querySelectorAll","map","item","rect","getBoundingClientRect","left","right","bottom","top","console","log","styleTag","position","onMouseDown","e","preventDefault","shiftX","clientX","shiftY","clientY","moveAt","pageX","pageY","onMouseMove","event","removeEventListener"],"sources":["/home/denis/vud/src/components/DNDCard/DNDCard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './style.css'\nexport const DNDCard = ({ id, letter, x }) => {\n    const [coordinates, setCoordinates] = useState({ x: 0, y: 0 })\n    const [blockCoordinate, setBlockCoordinate] = useState([]);\n    \n    if(window.onload){\n        window.addEventListener('load', ()=>{\n            setBlockCoordinate(document.querySelectorAll('.drop-zone').map(item => {\n                const rect = item.getBoundingClientRect();\n                const { left, right, bottom, top } = rect\n                return { left, right, top, bottom }\n            }))\n        })\n    \n    }\n\n\n    console.log(blockCoordinate)\n\n    useEffect(() => {\n        setCoordinates({ x, y: 0 })\n    }, [x])\n\n    const styleTag = {\n        position: 'absolute',\n        top: coordinates.y,\n        left: coordinates.x\n    };\n    const onMouseDown = (e) => {\n        e.preventDefault();\n        // setSaveTrigger(false);\n        let shiftX = e.clientX - coordinates.x;\n        let shiftY = e.clientY - coordinates.y;\n\n        const moveAt = (pageX, pageY) => {\n            let x = pageX - shiftX;\n            let y = pageY - shiftY;\n            if (x < 0) {\n                x = 0;\n            }\n            //   if (x > block.offsetWidth) {\n            //     x = block.offsetWidth;\n            //   }\n            //   if (y > block.offsetHeight - 3) {\n            //     y = block.offsetHeight - 3;\n            //   }\n            if (y < 0) {\n                y = 0;\n            }\n            setCoordinates({ x: x, y: y });\n        };\n        moveAt(e.clientX, e.clientY);\n\n        const onMouseMove = (event) => {\n            moveAt(event.clientX, event.clientY);\n        };\n\n        window.addEventListener('mousemove', onMouseMove);\n\n        window.addEventListener('mouseup', () => {\n            window.removeEventListener('mousemove', onMouseMove);\n            //   setSaveTrigger(true);\n        });\n    };\n\n\n    return (\n        <div\n            id={id}\n            onMouseDown={onMouseDown}\n            // onDragStart={ondragstart}\n            className='drop-card'\n            style={styleTag}\n        // ref={ball}\n        >\n            {/* <div '> */}\n            {letter}\n\n            {/* </div> */}\n        </div>\n    );\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}