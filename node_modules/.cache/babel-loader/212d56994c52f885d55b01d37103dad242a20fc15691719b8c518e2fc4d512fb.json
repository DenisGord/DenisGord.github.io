{"ast":null,"code":"var _jsxFileName = \"/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const KrosvordComponent = _ref => {\n  _s();\n  let {\n    words,\n    question,\n    maxX,\n    maxY,\n    right\n  } = _ref;\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [checkButton, setCheckButton] = useState(false);\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(_ref2 => {\n            let {\n              x,\n              y\n            } = _ref2;\n            return y === i && x === j;\n          })) {\n            var _selectButton$find;\n            const findLetter = (_selectButton$find = selectButton.find(_ref3 => {\n              let {\n                coord\n              } = _ref3;\n              return coord === `${j}-${i}`;\n            })) === null || _selectButton$find === void 0 ? void 0 : _selectButton$find.letter.toLowerCase();\n            const letterWord = words.find(_ref4 => {\n              let {\n                x,\n                y\n              } = _ref4;\n              return y === i && x === j;\n            });\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setLetter(`${j}-${i}`),\n              className: `input-field ${letter === `${j}-${i}` && \"select\"} ${backgound(findLetter, letterWord)} `,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"startButton\",\n                children: letterWord.start || \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 40,\n                columnNumber: 17\n              }, this), findLetter || \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 18\n          }, this);\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: item.map(items => {\n          return items;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this);\n    });\n  }, [selectButton, letter]);\n  const clickLetter = e => {\n    setSelectButton(prev => {\n      const res = [...prev];\n      const ind = res.findIndex(_ref5 => {\n        let {\n          coord\n        } = _ref5;\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({\n          coord: letter,\n          letter: e\n        });\n      } else {\n        res[ind].letter = e;\n      }\n      return res;\n    });\n  };\n  const renderButton = arr_RU.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      tabIndex: \"-1\",\n      className: \"next-button-words\",\n      onClick: () => clickLetter(item),\n      children: item\n    }, item, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  });\n  useEffect(() => {\n    if (selectButton.length === words.length) {\n      setCheckButton(true);\n    }\n  }, [selectButton]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `wrapper wrapper-words ${right ? 'right-wrapper' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container flex-container-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-container flex-container-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: question.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-item\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 22\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: renderFields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"padding-wrapper\",\n        children: [checkButton ? /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"flex-container flex-container-column\",\n          children: [\"\\u0412\\u0441\\u0435 \\u0432\\u0435\\u0440\\u043D\\u043E\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"next-button-words\",\n              children: \"\\u0434\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"next-button-words\",\n              children: \"\\u043D\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"letterContainer\",\n          children: renderButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-button-words\",\n          onClick: () => clickLetter(\"\"),\n          children: \"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s(KrosvordComponent, \"iy/Yt0ogylnXMsus+poZyrP0F/g=\");\n_c = KrosvordComponent;\nvar _c;\n$RefreshReg$(_c, \"KrosvordComponent\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","arr_RU","KrosvordComponent","words","question","maxX","maxY","right","selectButton","setSelectButton","letter","setLetter","checkButton","setCheckButton","backgound","first","second","word","toLowerCase","gold","renderFields","arr","i","push","j","elem","some","x","y","findLetter","find","coord","letterWord","start","map","item","display","items","clickLetter","e","prev","res","ind","findIndex","renderButton","length"],"sources":["/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\n\nexport const KrosvordComponent = ({ words, question, maxX, maxY, right }) => {\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [checkButton, setCheckButton] = useState(false);\n\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n\n\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(({ x, y }) => y === i && x === j)) {\n            const findLetter = selectButton\n              .find(({ coord }) => coord === `${j}-${i}`)\n              ?.letter.toLowerCase();\n\n            const letterWord = words.find(({ x, y }) => y === i && x === j);\n\n            return (\n              <button\n                onClick={() => setLetter(`${j}-${i}`)}\n                className={`input-field ${letter === `${j}-${i}` && \"select\"\n                  } ${backgound(findLetter, letterWord)} `}\n              >\n                <div className=\"startButton\">{letterWord.start || \"\"}</div>\n                {findLetter || \"\"}\n              </button>\n            );\n          }\n          return <div className=\"block\" />;\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map((item) => {\n      return (\n        <div style={{ display: \"flex\" }}>\n          {item.map((items) => {\n            return items;\n          })}\n        </div>\n      );\n    });\n  }, [selectButton, letter]);\n\n  const clickLetter = (e) => {\n    setSelectButton((prev) => {\n      const res = [...prev];\n\n      const ind = res.findIndex(({ coord }) => {\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({ coord: letter, letter: e });\n      } else {\n        res[ind].letter = e;\n      }\n\n\n      return res;\n    });\n  };\n\n  const renderButton = arr_RU.map((item) => {\n    return (\n      <button\n        tabIndex={\"-1\"}\n        className=\"next-button-words\"\n        onClick={() => clickLetter(item)}\n        key={item}\n      >\n        {item}\n      </button>\n    );\n  });\n\n  useEffect(() => {\n    if (selectButton.length === words.length) {\n      setCheckButton(true)\n    }\n  }, [selectButton]);\n\n  return (\n    <div className={`wrapper wrapper-words ${right ? 'right-wrapper' : ''}`} >\n      <div className=\"flex-container flex-container-column\">\n        <div className=\"flex-container flex-container-column\">\n          <ul>\n            {question.map((item) => {\n              return <li className=\"list-item\">{item}</li>;\n            })}\n          </ul>\n          <div>{renderFields}</div>\n        </div>\n\n\n        <div className=\"padding-wrapper\">\n        {checkButton ? <h1 className=\"flex-container flex-container-column\" > \n              Все верно\n              <div className=\"flex-container\" >\n              <button className=\"next-button-words\" >да</button>\n              <button className=\"next-button-words\" >нет</button>\n\n              </div>\n           \n            </h1>  :\n          <div className=\"letterContainer\">\n           {renderButton}\n          </div>}\n\n          <button className=\"next-button-words\" onClick={() => clickLetter(\"\")}>удалить</button>\n\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,OAAO,aAAa;AACpB,SAASC,MAAM,QAAQ,UAAU;AAAC;AAElC,OAAO,MAAMC,iBAAiB,GAAG,QAA4C;EAAA;EAAA,IAA3C;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,IAAI;IAAEC,IAAI;IAAEC;EAAM,CAAC;EACtE,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACU,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAErD,MAAMc,SAAS,GAAG,CAACC,KAAK,EAAEC,MAAM,KAAK;IACnC,IAAID,KAAK,IAAIA,KAAK,KAAKC,MAAM,CAACC,IAAI,CAACC,WAAW,EAAE,EAAE;MAChD,IAAIF,MAAM,CAACG,IAAI,EAAE;QACf,OAAO,MAAM;MACf;MACA,OAAO,OAAO;IAChB;IACA,OAAO,EAAE;EACX,CAAC;EAGD,MAAMC,YAAY,GAAGrB,OAAO,CAAC,MAAM;IACjC,MAAMsB,GAAG,GAAG,EAAE;IACd,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGhB,IAAI,EAAEgB,CAAC,EAAE,EAAE;MAC7BD,GAAG,CAACE,IAAI,CAAC,EAAE,CAAC;MACZ,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGnB,IAAI,EAAEmB,CAAC,EAAE,EAAE;QAC7B,MAAMC,IAAI,GAAG,MAAM;UACjB,IAAItB,KAAK,CAACuB,IAAI,CAAC;YAAA,IAAC;cAAEC,CAAC;cAAEC;YAAE,CAAC;YAAA,OAAKA,CAAC,KAAKN,CAAC,IAAIK,CAAC,KAAKH,CAAC;UAAA,EAAC,EAAE;YAAA;YAChD,MAAMK,UAAU,yBAAGrB,YAAY,CAC5BsB,IAAI,CAAC;cAAA,IAAC;gBAAEC;cAAM,CAAC;cAAA,OAAKA,KAAK,KAAM,GAAEP,CAAE,IAAGF,CAAE,EAAC;YAAA,EAAC,uDAD1B,mBAEfZ,MAAM,CAACQ,WAAW,EAAE;YAExB,MAAMc,UAAU,GAAG7B,KAAK,CAAC2B,IAAI,CAAC;cAAA,IAAC;gBAAEH,CAAC;gBAAEC;cAAE,CAAC;cAAA,OAAKA,CAAC,KAAKN,CAAC,IAAIK,CAAC,KAAKH,CAAC;YAAA,EAAC;YAE/D,oBACE;cACE,OAAO,EAAE,MAAMb,SAAS,CAAE,GAAEa,CAAE,IAAGF,CAAE,EAAC,CAAE;cACtC,SAAS,EAAG,eAAcZ,MAAM,KAAM,GAAEc,CAAE,IAAGF,CAAE,EAAC,IAAI,QACjD,IAAGR,SAAS,CAACe,UAAU,EAAEG,UAAU,CAAE,GAAG;cAAA,wBAE3C;gBAAK,SAAS,EAAC,aAAa;gBAAA,UAAEA,UAAU,CAACC,KAAK,IAAI;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAO,EAC1DJ,UAAU,IAAI,EAAE;YAAA;cAAA;cAAA;cAAA;YAAA,QACV;UAEb;UACA,oBAAO;YAAK,SAAS,EAAC;UAAO;YAAA;YAAA;YAAA;UAAA,QAAG;QAClC,CAAC;QACDR,GAAG,CAACC,CAAC,CAAC,CAACC,IAAI,CAACE,IAAI,EAAE,CAAC;MACrB;IACF;IACA,OAAOJ,GAAG,CAACa,GAAG,CAAEC,IAAI,IAAK;MACvB,oBACE;QAAK,KAAK,EAAE;UAAEC,OAAO,EAAE;QAAO,CAAE;QAAA,UAC7BD,IAAI,CAACD,GAAG,CAAEG,KAAK,IAAK;UACnB,OAAOA,KAAK;QACd,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QACE;IAEV,CAAC,CAAC;EACJ,CAAC,EAAE,CAAC7B,YAAY,EAAEE,MAAM,CAAC,CAAC;EAE1B,MAAM4B,WAAW,GAAIC,CAAC,IAAK;IACzB9B,eAAe,CAAE+B,IAAI,IAAK;MACxB,MAAMC,GAAG,GAAG,CAAC,GAAGD,IAAI,CAAC;MAErB,MAAME,GAAG,GAAGD,GAAG,CAACE,SAAS,CAAC,SAAe;QAAA,IAAd;UAAEZ;QAAM,CAAC;QAClC,OAAOA,KAAK,KAAKrB,MAAM;MACzB,CAAC,CAAC;MACF,IAAIgC,GAAG,KAAK,CAAC,CAAC,EAAE;QACdD,GAAG,CAAClB,IAAI,CAAC;UAAEQ,KAAK,EAAErB,MAAM;UAAEA,MAAM,EAAE6B;QAAE,CAAC,CAAC;MACxC,CAAC,MAAM;QACLE,GAAG,CAACC,GAAG,CAAC,CAAChC,MAAM,GAAG6B,CAAC;MACrB;MAGA,OAAOE,GAAG;IACZ,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,YAAY,GAAG3C,MAAM,CAACiC,GAAG,CAAEC,IAAI,IAAK;IACxC,oBACE;MACE,QAAQ,EAAE,IAAK;MACf,SAAS,EAAC,mBAAmB;MAC7B,OAAO,EAAE,MAAMG,WAAW,CAACH,IAAI,CAAE;MAAA,UAGhCA;IAAI,GAFAA,IAAI;MAAA;MAAA;MAAA;IAAA,QAGF;EAEb,CAAC,CAAC;EAEFrC,SAAS,CAAC,MAAM;IACd,IAAIU,YAAY,CAACqC,MAAM,KAAK1C,KAAK,CAAC0C,MAAM,EAAE;MACxChC,cAAc,CAAC,IAAI,CAAC;IACtB;EACF,CAAC,EAAE,CAACL,YAAY,CAAC,CAAC;EAElB,oBACE;IAAK,SAAS,EAAG,yBAAwBD,KAAK,GAAG,eAAe,GAAG,EAAG,EAAE;IAAA,uBACtE;MAAK,SAAS,EAAC,sCAAsC;MAAA,wBACnD;QAAK,SAAS,EAAC,sCAAsC;QAAA,wBACnD;UAAA,UACGH,QAAQ,CAAC8B,GAAG,CAAEC,IAAI,IAAK;YACtB,oBAAO;cAAI,SAAS,EAAC,WAAW;cAAA,UAAEA;YAAI;cAAA;cAAA;cAAA;YAAA,QAAM;UAC9C,CAAC;QAAC;UAAA;UAAA;UAAA;QAAA,QACC,eACL;UAAA,UAAMf;QAAY;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QACrB,eAGN;QAAK,SAAS,EAAC,iBAAiB;QAAA,WAC/BR,WAAW,gBAAG;UAAI,SAAS,EAAC,sCAAsC;UAAA,WAAE,mDAE/D;YAAK,SAAS,EAAC,gBAAgB;YAAA,wBAC/B;cAAQ,SAAS,EAAC,mBAAmB;cAAA,UAAE;YAAE;cAAA;cAAA;cAAA;YAAA,QAAS,eAClD;cAAQ,SAAS,EAAC,mBAAmB;cAAA,UAAE;YAAG;cAAA;cAAA;cAAA;YAAA,QAAS;UAAA;YAAA;YAAA;YAAA;UAAA,QAE7C;QAAA;UAAA;UAAA;UAAA;QAAA,QAEH,gBACP;UAAK,SAAS,EAAC,iBAAiB;UAAA,UAC9BgC;QAAY;UAAA;UAAA;UAAA;QAAA,QACR,eAEN;UAAQ,SAAS,EAAC,mBAAmB;UAAC,OAAO,EAAE,MAAMN,WAAW,CAAC,EAAE,CAAE;UAAA,UAAC;QAAO;UAAA;UAAA;UAAA;QAAA,QAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QAElF;IAAA;MAAA;MAAA;MAAA;IAAA;EAEF;IAAA;IAAA;IAAA;EAAA,QACF;AAEV,CAAC;AAAA,GA/HYpC,iBAAiB;AAAA,KAAjBA,iBAAiB;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}