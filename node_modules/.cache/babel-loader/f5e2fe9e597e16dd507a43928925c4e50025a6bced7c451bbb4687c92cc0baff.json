{"ast":null,"code":"var _jsxFileName = \"/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const KrosvordComponent = _ref => {\n  _s();\n  let {\n    words,\n    question,\n    maxX,\n    maxY,\n    right,\n    counter,\n    setCounter\n  } = _ref;\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [showText, setShowText] = useState(false);\n  const [showButton, setShowButton] = useState(false);\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(_ref2 => {\n            let {\n              x,\n              y\n            } = _ref2;\n            return y === i && x === j;\n          })) {\n            var _selectButton$find;\n            const findLetter = (_selectButton$find = selectButton.find(_ref3 => {\n              let {\n                coord\n              } = _ref3;\n              return coord === `${j}-${i}`;\n            })) === null || _selectButton$find === void 0 ? void 0 : _selectButton$find.letter.toLowerCase();\n            const letterWord = words.find(_ref4 => {\n              let {\n                x,\n                y\n              } = _ref4;\n              return y === i && x === j;\n            });\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setLetter(`${j}-${i}`),\n              id: `field-button-${right ? 'right' : 'left'}`,\n              className: `input-field ${letter === `${j}-${i}` && \"select\"} ${backgound(findLetter, letterWord)} `,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"startButton\",\n                children: letterWord.start || \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 41,\n                columnNumber: 17\n              }, this), findLetter || \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 18\n          }, this);\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: item.map(items => {\n          return items;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    });\n  }, [selectButton, letter]);\n  const clickLetter = e => {\n    setSelectButton(prev => {\n      const res = [...prev];\n      const ind = res.findIndex(_ref5 => {\n        let {\n          coord\n        } = _ref5;\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({\n          coord: letter,\n          letter: e\n        });\n      } else {\n        res[ind].letter = e;\n      }\n      return res;\n    });\n  };\n  const renderButton = arr_RU.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      tabIndex: \"-1\",\n      className: \"next-button-words\",\n      onClick: () => clickLetter(item),\n      children: item\n    }, item, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this);\n  });\n  useEffect(() => {\n    if (selectButton.length === words.length) {\n      const sel = document.querySelectorAll(`#field-button-${right ? 'right' : 'left'}`);\n      let i = 0;\n      sel.forEach(item => {\n        if (item.classList.value.includes('color') || item.classList.value.includes('gold')) {\n          i++;\n        }\n      });\n      if (i === sel.length) {\n        setShowButton(true);\n      }\n    }\n  }, [selectButton]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `wrapper wrapper-words ${right ? 'right-wrapper' : ''}`,\n    children: counter > 1 ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0412\\u044B \\u0440\\u0430\\u0437\\u0433\\u0430\\u0434\\u0430\\u043B\\u0438 \\u0432\\u0441\\u0435 \\u0441\\u043B\\u043E\\u0432\\u0430, \\u0433\\u043E\\u0442\\u043E\\u0432\\u044B \\u0434\\u0432\\u0438\\u0433\\u0430\\u0442\\u044C\\u0441\\u044F \\u0434\\u0430\\u043B\\u044C\\u0448\\u0435?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 22\n    }, this) : !showText ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container flex-container-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-container flex-container-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: question.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-item\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 26\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: renderFields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), showButton ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          setShowText(true);\n          setCounter(counter + 1);\n        },\n        className: \"nextButton\",\n        children: \"\\u041C\\u044B \\u0433\\u043E\\u0442\\u043E\\u0432\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 27\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"padding-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"letterContainer\",\n          children: renderButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-button-words\",\n          onClick: () => clickLetter(\" \"),\n          children: \"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0412\\u044B \\u0440\\u0430\\u0437\\u0433\\u0430\\u0434\\u0430\\u043B\\u0438 \\u0432\\u0441\\u0435 \\u0441\\u043B\\u043E\\u0432\\u0430, \\u0434\\u043E\\u0436\\u0434\\u0438\\u0442\\u0435\\u0441\\u044C \\u0432\\u0442\\u043E\\u0440\\u0443\\u044E \\u043A\\u043E\\u043C\\u0430\\u043D\\u0434\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 20\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n};\n_s(KrosvordComponent, \"9NuCSkf9Ks/L9LaSVILFN0d5rxg=\");\n_c = KrosvordComponent;\nvar _c;\n$RefreshReg$(_c, \"KrosvordComponent\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","arr_RU","KrosvordComponent","words","question","maxX","maxY","right","counter","setCounter","selectButton","setSelectButton","letter","setLetter","showText","setShowText","showButton","setShowButton","backgound","first","second","word","toLowerCase","gold","renderFields","arr","i","push","j","elem","some","x","y","findLetter","find","coord","letterWord","start","map","item","display","items","clickLetter","e","prev","res","ind","findIndex","renderButton","length","sel","document","querySelectorAll","forEach","classList","value","includes"],"sources":["/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\n\nexport const KrosvordComponent = ({ words, question, maxX, maxY, right, counter, setCounter }) => {\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [showText, setShowText] = useState(false)\n  const [showButton, setShowButton] = useState(false)\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n\n\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(({ x, y }) => y === i && x === j)) {\n            const findLetter = selectButton\n              .find(({ coord }) => coord === `${j}-${i}`)\n              ?.letter.toLowerCase();\n\n            const letterWord = words.find(({ x, y }) => y === i && x === j);\n\n            return (\n              <button\n                onClick={() => setLetter(`${j}-${i}`)}\n                id={`field-button-${right ? 'right' : 'left'}`}\n                className={`input-field ${letter === `${j}-${i}` && \"select\"\n                  } ${backgound(findLetter, letterWord)} `}\n              >\n                <div className=\"startButton\">{letterWord.start || \"\"}</div>\n                {findLetter || \"\"}\n              </button>\n            );\n          }\n          return <div className=\"block\" />;\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map((item) => {\n      return (\n        <div style={{ display: \"flex\" }}>\n          {item.map((items) => {\n            return items;\n          })}\n        </div>\n      );\n    });\n  }, [selectButton, letter]);\n\n  const clickLetter = (e) => {\n    setSelectButton((prev) => {\n      const res = [...prev];\n\n      const ind = res.findIndex(({ coord }) => {\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({ coord: letter, letter: e });\n      } else {\n        res[ind].letter = e;\n      }\n\n\n      return res;\n    });\n  };\n\n  const renderButton = arr_RU.map((item) => {\n    return (\n      <button\n        tabIndex={\"-1\"}\n        className=\"next-button-words\"\n        onClick={() => clickLetter(item)}\n        key={item}\n      >\n        {item}\n      </button>\n    );\n  });\n\n  useEffect(() => {\n    if (selectButton.length === words.length) {\n      const sel = document.querySelectorAll(`#field-button-${right ? 'right' : 'left'}`)\n      let i = 0\n      sel.forEach((item) => {\n        if (item.classList.value.includes('color') || item.classList.value.includes('gold')) {\n          i++\n        }\n      })\n\n      if (i === sel.length) {\n        setShowButton(true)\n\n      }\n    }\n  }, [selectButton]);\n\n  return (\n    <div className={`wrapper wrapper-words ${right ? 'right-wrapper' : ''}`} >\n      {counter > 1 ? <h1>Вы разгадали все слова, готовы двигаться дальше?</h1> :\n        !showText ?\n          <div className=\"flex-container flex-container-column\">\n            <div className=\"flex-container flex-container-column\">\n              <ul>\n                {question.map((item) => {\n                  return <li className=\"list-item\">{item}</li>;\n                })}\n              </ul>\n              <div>{renderFields}</div>\n            </div>\n\n            {showButton ? <button onClick={() => {\n              setShowText(true)\n              setCounter(counter + 1)\n            }} className=\"nextButton\">Мы готовы</button> :\n              <div className=\"padding-wrapper\">\n\n                <div className=\"letterContainer\">\n                  {renderButton}\n                </div>\n\n                <button className=\"next-button-words\" onClick={() => clickLetter(\" \")}>удалить</button>\n\n\n\n              </div>\n            }\n\n\n          </div> : <h1>Вы разгадали все слова, дождитесь вторую команду</h1>}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}