{"ast":null,"code":"var _jsxFileName = \"/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const KrosvordComponent = _ref => {\n  _s();\n  let {\n    words,\n    question,\n    maxX,\n    maxY,\n    right\n  } = _ref;\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [counter, setConuter] = useState([]);\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      setConuter(prev => {\n        const arr = [...prev];\n        const find = arr.findIndex(item => item.letter === letter);\n        if (find !== -1) {\n          arr[find].push({\n            letter,\n            first\n          });\n        }\n        return [...arr];\n      });\n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n  console.log(counter);\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(_ref2 => {\n            let {\n              x,\n              y\n            } = _ref2;\n            return y === i && x === j;\n          })) {\n            var _selectButton$find;\n            const findLetter = (_selectButton$find = selectButton.find(_ref3 => {\n              let {\n                coord\n              } = _ref3;\n              return coord === `${j}-${i}`;\n            })) === null || _selectButton$find === void 0 ? void 0 : _selectButton$find.letter.toLowerCase();\n            const letterWord = words.find(_ref4 => {\n              let {\n                x,\n                y\n              } = _ref4;\n              return y === i && x === j;\n            });\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setLetter(`${j}-${i}`),\n              className: `input-field ${letter === `${j}-${i}` && \"select\"} ${backgound(findLetter, letterWord)} `,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"startButton\",\n                children: letterWord.start || \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 17\n              }, this), findLetter || \"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 15\n            }, this);\n          }\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 18\n          }, this);\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map(item => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        children: item.map(items => {\n          return items;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this);\n    });\n  }, [selectButton, letter]);\n  const clickLetter = e => {\n    setSelectButton(prev => {\n      const res = [...prev];\n      const ind = res.findIndex(_ref5 => {\n        let {\n          coord\n        } = _ref5;\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({\n          coord: letter,\n          letter: e\n        });\n      } else {\n        res[ind].letter = e;\n      }\n      return res;\n    });\n  };\n  const renderButton = arr_RU.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      tabIndex: \"-1\",\n      className: \"next-button-words\",\n      onClick: () => clickLetter(item),\n      children: item\n    }, item, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  });\n  useEffect(() => {\n    if (selectButton.length === words.length) {}\n  }, [selectButton]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `wrapper wrapper-words ${right ? 'right-wrapper' : ''}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-container flex-container-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-container flex-container-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n          children: question.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-item\",\n              children: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 20\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: renderFields\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"padding-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"letterContainer\",\n          children: renderButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"next-button-words\",\n          onClick: () => clickLetter(\"\"),\n          children: \"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n_s(KrosvordComponent, \"+H07y6xbAj+dmCvPqGa1/QJvvqE=\");\n_c = KrosvordComponent;\nvar _c;\n$RefreshReg$(_c, \"KrosvordComponent\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","arr_RU","KrosvordComponent","words","question","maxX","maxY","right","selectButton","setSelectButton","letter","setLetter","counter","setConuter","backgound","first","second","word","toLowerCase","prev","arr","find","findIndex","item","push","gold","console","log","renderFields","i","j","elem","some","x","y","findLetter","coord","letterWord","start","map","display","items","clickLetter","e","res","ind","renderButton","length"],"sources":["/home/denis/vud/src/components/KrosvordComponent/KrosvordComponent.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\nimport \"./style.css\";\nimport { arr_RU } from \"./_mock_\";\n\nexport const KrosvordComponent = ({ words, question, maxX, maxY, right }) => {\n  const [selectButton, setSelectButton] = useState([]);\n  const [letter, setLetter] = useState(\"\");\n  const [counter, setConuter]=useState([]);\n\n  const backgound = (first, second) => {\n    if (first && first === second.word.toLowerCase()) {\n      setConuter((prev)=>{\n        const arr=[...prev]\n        const find = arr.findIndex((item)=>item.letter===letter)\n        if(find!==-1){\n          arr[find].push({letter, first})\n        }\n        return [...arr]\n      })\n      \n      if (second.gold) {\n        return \"gold\";\n      }\n      return \"color\";\n    }\n    return \"\";\n  };\n  console.log(counter)\n\n  const renderFields = useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < maxY; i++) {\n      arr.push([]);\n      for (let j = 0; j < maxX; j++) {\n        const elem = () => {\n          if (words.some(({ x, y }) => y === i && x === j)) {\n            const findLetter = selectButton\n              .find(({ coord }) => coord === `${j}-${i}`)\n              ?.letter.toLowerCase();\n\n            const letterWord = words.find(({ x, y }) => y === i && x === j);\n\n            return (\n              <button\n                onClick={() => setLetter(`${j}-${i}`)}\n                className={`input-field ${letter === `${j}-${i}` && \"select\"\n                  } ${backgound(findLetter, letterWord)} `}\n              >\n                <div className=\"startButton\">{letterWord.start || \"\"}</div>\n                {findLetter || \"\"}\n              </button>\n            );\n          }\n          return <div className=\"block\" />;\n        };\n        arr[i].push(elem());\n      }\n    }\n    return arr.map((item) => {\n      return (\n        <div style={{ display: \"flex\" }}>\n          {item.map((items) => {\n            return items;\n          })}\n        </div>\n      );\n    });\n  }, [selectButton, letter]);\n\n  const clickLetter = (e) => {\n    setSelectButton((prev) => {\n      const res = [...prev];\n\n      const ind = res.findIndex(({ coord }) => {\n        return coord === letter;\n      });\n      if (ind === -1) {\n        res.push({ coord: letter, letter: e });\n      } else {\n        res[ind].letter = e;\n      }\n\n    \n      return res;\n    });\n  };\n\n  const renderButton = arr_RU.map((item) => {\n    return (\n      <button\n        tabIndex={\"-1\"}\n        className=\"next-button-words\"\n        onClick={() => clickLetter(item)}\n        key={item}\n      >\n        {item}\n      </button>\n    );\n  });\n\n  useEffect(() => {\n    if (selectButton.length === words.length) {\n    }\n  }, [selectButton]);\n\n  return (\n    <div className={`wrapper wrapper-words ${right ? 'right-wrapper' : ''}`} >\n      <div className=\"flex-container flex-container-column\">\n      <div className=\"flex-container flex-container-column\">\n      <ul>\n          {question.map((item) => {\n            return <li className=\"list-item\">{item}</li>;\n          })}\n        </ul>\n        <div>{renderFields}</div>\n      </div>\n     \n       \n        <div className=\"padding-wrapper\">\n          <div className=\"letterContainer\">\n          {renderButton}\n          </div>\n          \n          <button className=\"next-button-words\" onClick={() => clickLetter(\"\")}>удалить</button>\n\n        </div>\n\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}