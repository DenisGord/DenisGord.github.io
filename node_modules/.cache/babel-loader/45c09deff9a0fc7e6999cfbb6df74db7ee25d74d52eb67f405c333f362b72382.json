{"ast":null,"code":"var _jsxFileName = \"/home/denis/vud/src/components/DNDCard/DNDCard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DNDCard = _ref => {\n  _s();\n  let {\n    id,\n    letter,\n    x,\n    setConuter,\n    block,\n    disabledBlock,\n    setDisabledBlock\n  } = _ref;\n  const [coordinates, setCoordinates] = useState({\n    x: 0,\n    y: 0\n  });\n  const [moveRoot, setMoveRoot] = useState(true);\n  const [blockCoordinate, setBlockCoordinate] = useState([]);\n  useEffect(() => {\n    setTimeout(() => {\n      const arr = [];\n      block.current.querySelectorAll('.drop-zone').forEach((item, i) => {\n        const rect = item.getBoundingClientRect();\n        const {\n          innerText\n        } = item;\n        const {\n          left,\n          right,\n          bottom,\n          top\n        } = rect;\n        if (i === 0) {\n          console.log(left);\n        }\n        arr.push({\n          left: left - block.current.offsetLeft,\n          right,\n          top,\n          bottom,\n          innerText\n        });\n      });\n      setBlockCoordinate(arr);\n    }, 100);\n  }, []);\n  useEffect(() => {\n    setCoordinates({\n      x,\n      y: 0\n    });\n  }, [x]);\n  const styleTag = {\n    position: 'absolute',\n    top: coordinates.y,\n    left: coordinates.x\n  };\n  const onMouseDown = e => {\n    e.preventDefault();\n    let shiftX = e.clientX - coordinates.x;\n    let shiftY = e.clientY - coordinates.y;\n    const moveAt = (pageX, pageY) => {\n      if (moveRoot) {\n        let x = pageX - shiftX;\n        let y = pageY - shiftY;\n        if (x < 0) {\n          x = 0;\n        }\n        if (y < 0) {\n          y = 0;\n        }\n        blockCoordinate.forEach((_ref2, i) => {\n          let {\n            top,\n            left,\n            right,\n            bottom,\n            innerText\n          } = _ref2;\n          if (x > left && x + 80 < right && y > top && y + 80 < bottom && innerText.toLowerCase() === letter.toLowerCase() && !disabledBlock.includes(i)) {\n            setConuter(prev => {\n              return prev + 1;\n            });\n            x = left + 12.5;\n            y = top + 12.5;\n            setCoordinates({\n              x: x,\n              y: y\n            });\n            window.removeEventListener('mousemove', onMouseMove);\n            setMoveRoot(false);\n            setDisabledBlock(prev => {\n              return [...prev, i];\n            });\n          }\n        });\n        setCoordinates({\n          x: x,\n          y: y\n        });\n      }\n    };\n    moveAt(e.clientX, e.clientY);\n    const onMouseMove = event => {\n      moveAt(event.clientX, event.clientY);\n    };\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', () => {\n      window.removeEventListener('mousemove', onMouseMove);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: id,\n    onMouseDown: onMouseDown\n    // onDragStart={ondragstart}\n    ,\n    className: \"drop-card\",\n    style: styleTag\n    // ref={ball}\n    ,\n    children: letter\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 9\n  }, this);\n};\n_s(DNDCard, \"pw5i/g2JI4rwcjJAM7oJ6pcVHDk=\");\n_c = DNDCard;\nvar _c;\n$RefreshReg$(_c, \"DNDCard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","DNDCard","id","letter","x","setConuter","block","disabledBlock","setDisabledBlock","coordinates","setCoordinates","y","moveRoot","setMoveRoot","blockCoordinate","setBlockCoordinate","setTimeout","arr","current","querySelectorAll","forEach","item","i","rect","getBoundingClientRect","innerText","left","right","bottom","top","console","log","push","offsetLeft","styleTag","position","onMouseDown","e","preventDefault","shiftX","clientX","shiftY","clientY","moveAt","pageX","pageY","toLowerCase","includes","prev","window","removeEventListener","onMouseMove","event","addEventListener"],"sources":["/home/denis/vud/src/components/DNDCard/DNDCard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport './style.css'\nexport const DNDCard = ({ id, letter, x, setConuter, block, disabledBlock, setDisabledBlock }) => {\n    const [coordinates, setCoordinates] = useState({ x: 0, y: 0 })\n    const [moveRoot, setMoveRoot] = useState(true)\n    const [blockCoordinate, setBlockCoordinate] = useState([]);\n\n    useEffect(() => {\n        setTimeout(() => {\n            const arr = []\n    \n            block.current.querySelectorAll('.drop-zone').forEach((item, i) => {\n                const rect = item.getBoundingClientRect();\n                const { innerText } = item\n                const { left, right, bottom, top } = rect\n                if(i===0){\n                    console.log(left)\n                }\n                arr.push({ left: left-block.current.offsetLeft, right, top, bottom, innerText })\n            })\n            setBlockCoordinate(arr)\n        }, 100)\n\n    }, [])\n\n\n    useEffect(() => {\n        setCoordinates({ x, y: 0 })\n    }, [x])\n\n    const styleTag = {\n        position: 'absolute',\n        top: coordinates.y,\n        left: coordinates.x\n    };\n    const onMouseDown = (e) => {\n        e.preventDefault();\n        let shiftX = e.clientX - coordinates.x;\n        let shiftY = e.clientY - coordinates.y;\n\n        const moveAt = (pageX, pageY) => {\n            if (moveRoot) {\n                let x = pageX - shiftX;\n                let y = pageY - shiftY;\n                if (x < 0) {\n                    x = 0;\n                }\n                if (y < 0) {\n                    y = 0;\n                }\n\n                blockCoordinate.forEach(({ top, left, right, bottom, innerText }, i) => {\n                 \n                    if (x > left && x + 80 < right && y > top && y + 80 < bottom && innerText.toLowerCase() === letter.toLowerCase() && !disabledBlock.includes(i)) {\n                        \n                     \n                        setConuter((prev) => {\n                            return prev + 1\n                        })\n\n                        x = left + 12.5\n                        y = top + 12.5\n                        setCoordinates({ x: x, y: y });\n                        window.removeEventListener('mousemove', onMouseMove);\n                      \n                        setMoveRoot(false)\n                        setDisabledBlock((prev)=>{\n                            return [...prev, i]\n                        })\n                    }\n                })\n\n\n\n                setCoordinates({ x: x, y: y });\n            }\n\n        };\n        moveAt(e.clientX, e.clientY);\n\n        const onMouseMove = (event) => {\n\n            moveAt(event.clientX, event.clientY);\n\n\n        };\n\n        window.addEventListener('mousemove', onMouseMove);\n\n        window.addEventListener('mouseup', () => {\n            window.removeEventListener('mousemove', onMouseMove);\n        });\n    };\n\n\n    return (\n        <div\n            id={id}\n            onMouseDown={onMouseDown}\n            // onDragStart={ondragstart}\n            className='drop-card'\n            style={styleTag}\n        // ref={ball}\n        >\n            {/* <div '> */}\n            {letter}\n\n            {/* </div> */}\n        </div>\n    );\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}